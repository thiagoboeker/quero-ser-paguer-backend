<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.21.1">
    <meta name="project" content="PagBackend v1.0.0">
    <title>PagBackend — PagBackend v1.0.0</title>
    <link rel="stylesheet" href="dist/html-9914b37a220eb2c313b6.css" />
    <script src="dist/sidebar_items-f4d515003f.js"></script>
      <script src="docs_config.js"></script>
    <script async src="dist/html-9914b37a220eb2c313b6.js"></script>
  </head>
  <body data-type="modules">
    <script>try { if(localStorage.getItem('night-mode') === 'true') document.body.className += ' night-mode'; } catch (e) { }</script>
<div class="main">

<button class="sidebar-button sidebar-toggle">
  <span class="icon-menu" title="Collapse/expand sidebar"></span>
</button>

<section class="sidebar">
  <form class="sidebar-search" action="search.html">
    <button type="submit" class="search-button">
      <span class="icon-search" aria-hidden="true"></span>
    </button>
    <button type="button" tabindex="-1" class="search-close-button">
      <span class="icon-cross" title="Cancel search"></span>
    </button>
    <label class="search-label">
      <input name="q" type="text" id="search-list" class="search-input" placeholder="Search..." aria-label="Search" autocomplete="off" />
    </label>
  </form>

  <div class="autocomplete">
    <div class="autocomplete-results">
    </div>
  </div>

  <div class="sidebar-header">
    <div class="sidebar-projectDetails">
      <a href="PagBackend.html" class="sidebar-projectName">
PagBackend      </a>
      <h2 class="sidebar-projectVersion">
        v1.0.0
      </h2>
    </div>
  </div>

  <ul class="sidebar-listNav">
    <li><a id="extras-list" href="#full-list">Pages</a></li>

      <li><a id="modules-list" href="#full-list">Modules</a></li>


  </ul>
  <div class="gradient"></div>
  <ul id="full-list" class="sidebar-fullList"></ul>
</section>

<section class="content">
  <div class="content-outer">
    <div id="content" class="content-inner">

      <h1>
        <small class="app-vsn">PagBackend v1.0.0</small>
PagBackend          <a href="https://github.com/thiagoboeker/quero-ser-paguer-backend/tree/master/lib/pag_backend/pag_backend.ex#L1" title="View Source" class="view-source" rel="help">
            <span class="icon-code" aria-hidden="true"></span>
            <span class="sr-only">View Source</span>
          </a>
      </h1>


        <section id="moduledoc">
<p>Versão em Elixir do desafio de backend da pag! S.A para desenvolvedores.</p>
<blockquote><p>Para visualizar o codigo fonte das funcoes, clique no icone &lt;/&gt; no canto superior direito da assinatura da funcao. </p>
</blockquote>
<h2 id="module-consideracoes" class="section-heading">
  <a href="#module-consideracoes" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Consideracoes
</h2>

<h3 id="module-sem-phoenix" class="section-heading">
  <a href="#module-sem-phoenix" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Sem Phoenix?
</h3>

<p>Phoenix é o framework mais famoso de Elixir para web, ele é construido encima das libs Cowboy 
e Plug que sao usadas ostensivamente aqui. Porem ele traz uma bagagem para aplicacoes maiores com 
conceitos de DDD e Channels e muitas outras coisas que nao seriam utilizadas. Entao optei por nao usa-lo.</p>
<h3 id="module-pattern-matching-o-que-é-isso" class="section-heading">
  <a href="#module-pattern-matching-o-que-é-isso" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Pattern Matching, o que é isso?
</h3>

<p>Eu estou a um bom tempo investindo em FP, e umas das features mais legais que eu gosto de usar<br>é o Pattern Matching. Entao se voce ver coisas como isso aqui, eu explico.</p>
<h4>Exemplos</h4>
<pre><code class="nohighlight makeup elixir"><span class="gp unselectable">iex&gt; </span><span class="p" data-group-id="4297937044-1">[</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="ss">:ok</span><span class="p" data-group-id="4297937044-1">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="4297937044-2">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="ss">:ok</span><span class="p" data-group-id="4297937044-2">]</span><span class="w">
</span><span class="p" data-group-id="4297937044-3">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="ss">:ok</span><span class="p" data-group-id="4297937044-3">]</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="p" data-group-id="4297937044-4">[</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p" data-group-id="4297937044-4">]</span><span class="w">
</span><span class="p" data-group-id="4297937044-5">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p" data-group-id="4297937044-5">]</span></code></pre>
<p>Como visto, o lado direito se equipara ao lado esquerdo de todas maneiras, sendo assim as variaveis 
a e b agora valem respectivamente 1 e 2 para a equivalencia ser alcançada.
A vantagem desse tipo de abordagem é a possibilidade de asserção entre os lados, lançando uma exceção quando a equivalencia nao é alcançada, deixando o codigo mais seguro por crashar uma presunção errada de matching, 
na minha opinião isso é algo muito poderoso.<br>Deixando bem claro que nao estou lecionando para ninguem, tenho certeza que gente mais capacitada que 
inclusive pode me ensinar uma coisa ou duas pode estar lendo. Apenas explicitando as minhas preferencias para se entender melhor o estilo do meu codigo.</p>
<h3 id="module-testes" class="section-heading">
  <a href="#module-testes" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Testes
</h3>

<p>Os suites de testes apesar de pequenos cobrem um bocado. Só lembrando que a ausencia dos assertions é justamente devido ao pattern matching nas chamadas<br>das funcoes, causando uma certa redundancia pois se o PM falhar sera lançada uma exceção falhando assim o teste. </p>
<h3 id="module-estrutura" class="section-heading">
  <a href="#module-estrutura" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Estrutura
</h3>

<p>Cada modulo da API tem a seguinte estrutura. Primeiro um <a href="https://hexdocs.pm/plug/1.8.3/Plug.html"><code class="inline">Plug</code></a> para receber a conexão, pode ser feito algum tratamento adicional e depois a conexao é enviada para 
um <a href="https://hexdocs.pm/plug/1.8.3/Plug.Router.html"><code class="inline">Plug.Router</code></a>.</p>
<h3 id="module-decisões" class="section-heading">
  <a href="#module-decisões" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Decisões
</h3>

<p>Minhas decisões sao baseadas em boas praticas que eu acredito. Entao pra expor um pouco oq eu penso eu posso dizer que eu favoreço coesão ao inves de acoplamento, expressividade ao invés de reusabilidade.</p>
<h3 id="module-docker" class="section-heading">
  <a href="#module-docker" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Docker
</h3>

<p>Elixir tem uma maneira bem unica e facil de fazer deploy com releases. Ainda pode dockerizar.</p>
        </section>


      <footer class="footer">
        <p>
          <span class="line">
            Built using
            <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener">ExDoc</a> (v0.21.1),
          </span>
          <span class="line">
            designed by
            <a href="https://twitter.com/dignifiedquire" target="_blank" rel="noopener" title="@dignifiedquire">Friedel Ziegelmayer</a>.
          </span>
        </p>
        <p>
          <button class="line footer-button night-mode-toggle">
            Toggle night mode
          </button>
          <button class="line footer-button tooltips-toggle">
            <span class="tooltips-option-disable">Disable tooltips</span>
            <span class="tooltips-option-enable">Enable tooltips</span>
          </button>
          <button class="line footer-button display-shortcuts-help">
            Display keyboard shortcuts
          </button>
          <button class="line footer-button display-quick-switch">
            Go to a HexDocs package
          </button>
        </p>
      </footer>
    </div>
  </div>
</section>
</div>
  </body>
</html>
